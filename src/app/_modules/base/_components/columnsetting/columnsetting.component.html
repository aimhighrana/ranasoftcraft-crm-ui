<mat-card class="mat-elevation-z3 column-setting">
    <mat-toolbar>
        <mat-toolbar-row>
            <span>Colunms Setting</span>
            <span class="f-spacer"></span>
            <button mat-icon-button matTooltip="Close" (click)="closeSettingColumn()">
                <mat-icon>close</mat-icon>
            </button>
        </mat-toolbar-row>
    </mat-toolbar>
    <mat-divider></mat-divider>
    <mat-card-content>
        <div class="f-col">
            <mat-nav-list class="nav-setting">

                <a mat-list-item *ngFor="let view of taskListViews" (click)="setActiveView(view)">{{view.viewName}} {{view.active? '(active)' : ''}}
                    <span class="f-spacer"></span>
                    <mat-icon (click)="setAsDefault(view)" prosClickStopPropagation
                        matTooltip="{{view.default ? 'Default View' : 'Make Default view'}}" class="listing-icons"
                        [class.check]="view.default">
                        {{view.default? 'check_circle_outline' :'check_circle'}}</mat-icon> <span
                        class="f-col-spacer-half"></span>
                    <mat-icon matTooltip="Delete" class="listing-icons remove" (click)="deleteView(view);" prosClickStopPropagation>delete</mat-icon>
                </a>
            </mat-nav-list>

            <button mat-button color="primary" class="newsetting-add"
                (click)="newSettingDivVisible = !newSettingDivVisible">
                <mat-icon>add_circle_outline</mat-icon> New setting
            </button>

            <div class="f-col settingadd-col" [formGroup]="saveViewform" *ngIf="newSettingDivVisible">
                <mat-form-field>
                    <mat-label>Add Setting</mat-label>
                    <input matInput formControlName="viewName">
                </mat-form-field>
                <button mat-flat-button color="primary" (click)="addNewView()">Add</button>
            </div>
        </div>

        <mat-divider [vertical]="true"></mat-divider>
        <div class="f-col checked-colunms">
            <mat-form-field>
                <mat-label>Find a field</mat-label>
                <input matInput type="text">
            </mat-form-field>

            <div cdkDropList (cdkDropListDropped)="drop($event)" class="f-col colunm-list">
                <div *ngFor="let column of tableColumns" class="f-row" cdkDrag>
                    <ng-container *ngIf="column.value!=='setting'">
                        <mat-slide-toggle color="primary" [checked]="column.visible"
                            (change)="saveChange(column,$event)">
                            {{ column.value }}
                        </mat-slide-toggle>
                        <span class="f-spacer"></span>
                        <mat-icon matTooltip="Drag Colunm">drag_indicator</mat-icon>
                    </ng-container>

                </div>
            </div>

            <div class="f-row setting-actions">
                <button mat-stroked-button color="primary" (click)="resetView()">Reset</button>
                <button mat-flat-button color="primary" [disabled]="!isAnyViewActive" (click)="updateView()">Update</button>
            </div>
        </div>
    </mat-card-content>
</mat-card>