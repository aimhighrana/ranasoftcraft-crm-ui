<div class="root">
    <div class="row-spacer"></div>
    <div class="f-row">
        <lib-segment [optionsList]="optionsList" labelKey="label" valueKey="value"></lib-segment>
        <span class="f-spacer"></span>
        <lib-button type="minor" icon="times" iconPosition="before" (click)="close()" i18n="@@close"> close </lib-button>
        <span class="f-col-spacer-half"></span>
        <lib-button type="minor" (click)="clearAllFilters()" i18n="@@reset_all">Reset all</lib-button>
    </div>
    <div class="row-spacer"></div>
    <div class="f-row system">
        <div class="f-col system-fields-col">
            <lib-search i18n-placeholder="@@search" placeholder="Search" (valueChange)="searchFilter($event)"></lib-search>
            <div class="row-spacer"></div>
            <mat-list class="filters-list">
                <mat-list-item class="f-row" *ngFor="let filter of filtersList.filterCriteria; let index=index">
                    <div class="f-col"
                        (click)="editFilter(filter.fieldId)">
                        <lib-text-line type="base"> {{ getFieldDescription(filter.fieldId) }}  </lib-text-line>
                        <lib-text-line type="base" textColor="secondary"> {{ filter.values ? filter.values.toString() : '' }} </lib-text-line>
                    </div>
                    <span class="f-spacer"></span>
                    <lib-button type="plain" iconFontType="solid" icon="times" 
                        (click)="removeFilter(index, filter.fieldId)"></lib-button>
                </mat-list-item>
            </mat-list>
            <lib-section></lib-section>

            <div class="f-row">
                <span class="col-spacer"></span>
                <lib-text-line type="base" weight="strong" textColor="secondary"><span i18n="@@apply_filters">Apply filters...</span></lib-text-line>
            </div>
            <mat-list class="fields-list">
                <mat-list-item *ngFor="let field of metadataFldLst"
                    (click)="editFilter(field.fieldId)">
                    {{ field.fieldDescri }}
                </mat-list-item>
            </mat-list>

        </div>
        <div class="col-spacer"></div>
        <div class="f-col system-values-col">
            <ng-template [ngIf]="activeFilter">
                <div class="f-row">
                    <lib-text-line type="base" weight="strong"> {{ getFieldDescription(activeFilter.fieldId) }} </lib-text-line>
                    <span class="f-spacer"></span>
                    <lib-button type="type">
                        <mat-icon fontSet="mdo-icons-solid">sliders-h</mat-icon>
                    </lib-button>
                    <lib-button-group>
                        <lib-button type="major" (click)="upsertFilter()" i18n="@@apply">Apply</lib-button>
                        <lib-button type="major" icon="ellipsis-h"></lib-button>
                    </lib-button-group>
                </div>
                <div class="row-spacer"></div>
                <div class="f-col">
                    <lib-input i18n-placeholder="@@type_filter_value" placeholder="type filter value" [value]="activeFilter.values ? activeFilter.values.toString() : ''"
                        (valueChange)="updateFilterValue($event)"></lib-input>
                </div>
            </ng-template>
           
                <!-- <div class="f-row">
                    <lib-text-line type="base" weight="strong">Location</lib-text-line>
                    <span class="f-spacer"></span>
                    <lib-button type="type">
                        <mat-icon fontSet="mdo-icons-solid">sliders-h</mat-icon>
                    </lib-button>
                    <lib-button-group>
                        <lib-button type="major">Apply</lib-button>
                        <lib-button type="major" icon="ellipsis-h"></lib-button>
                    </lib-button-group>
                </div>
                <div class="f-col">
                    <lib-text-line type="base" weight="strong">Rule</lib-text-line>
                    <lib-segment [optionsList]="rulelist" labelKey="label" valueKey="value"></lib-segment>

                    <lib-section></lib-section>

                    <lib-search placeholder="Search"></lib-search>
                    <div class="row-spacer"></div>
                    <div class="f-row">
                        <span class="col-spacer"></span>
                        <lib-slide-toggle label="Show selected" labelPosition="after" theme="primary">
                        </lib-slide-toggle>
                    </div>
                    <div class="row-spacer"></div>
                    <mat-list>
                        <mat-list-item>
                            <lib-checkbox label="Select all" labelPosition="after" theme="primary"></lib-checkbox>
                        </mat-list-item>
                        <lib-section></lib-section>
                        <mat-list-item>
                            <lib-checkbox label="Algeria" labelPosition="after" theme="primary"></lib-checkbox>
                        </mat-list-item>
                        <mat-list-item>
                            <lib-checkbox label="America" labelPosition="after" theme="primary"></lib-checkbox>
                        </mat-list-item>
                        <mat-list-item>
                            <lib-checkbox label="Austria" labelPosition="after" theme="primary"></lib-checkbox>
                        </mat-list-item>
                        <mat-list-item>
                            <lib-checkbox label="Brussels" labelPosition="after" theme="primary"></lib-checkbox>
                        </mat-list-item>
                        <mat-list-item>
                            <lib-checkbox label="France" labelPosition="after" theme="primary"></lib-checkbox>
                        </mat-list-item>
                        <mat-list-item>
                            <lib-checkbox label="Germany" labelPosition="after" theme="primary"></lib-checkbox>
                        </mat-list-item>
                    </mat-list>
                </div> -->
          

            <!-- Approved date Tab -->
            <ng-template>
                <div class="f-row">
                    <lib-text-line type="base" weight="strong">Approved date</lib-text-line>
                    <span class="f-spacer"></span>
                    <lib-button type="type">
                        <mat-icon fontSet="mdo-icons-solid">sliders-h</mat-icon>
                    </lib-button>
                    <lib-button-group>
                        <lib-button type="major">Apply</lib-button>
                        <lib-button type="major" icon="ellipsis-h"></lib-button>
                    </lib-button-group>
                </div>
                <div class="row-spacer"></div>
                <div class="f-row system">
                    <div class="f-col date-list">
                        <mat-list>
                            <mat-list-item> Day <span class="f-spacer"></span>
                                <mat-icon fontSet="mdo-icons-solid">long-arrow-alt-right</mat-icon>
                            </mat-list-item>
                            <mat-list-item> Week <span class="f-spacer"></span>
                                <mat-icon fontSet="mdo-icons-solid">long-arrow-alt-right</mat-icon>
                            </mat-list-item>
                            <mat-list-item> Month <span class="f-spacer"></span>
                                <mat-icon fontSet="mdo-icons-solid">long-arrow-alt-right</mat-icon>
                            </mat-list-item>
                            <mat-list-item> Quarter <span class="f-spacer"></span>
                                <mat-icon fontSet="mdo-icons-solid">long-arrow-alt-right</mat-icon>
                            </mat-list-item>
                            <mat-list-item> Year <span class="f-spacer"></span>
                                <mat-icon fontSet="mdo-icons-solid">long-arrow-alt-right</mat-icon>
                            </mat-list-item>
                            <mat-list-item> Specific date <span class="f-spacer"></span>
                                <mat-icon fontSet="mdo-icons-solid">long-arrow-alt-right</mat-icon>
                            </mat-list-item>
                            <mat-list-item> Date range <span class="f-spacer"></span>
                                <mat-icon fontSet="mdo-icons-solid">long-arrow-alt-right</mat-icon>
                            </mat-list-item>
    
                        </mat-list>
                    </div>
                    <div class="col-spacer"></div>
                    <div class="f-col date-list">
                        <lib-radio-group [options]="options" layout="vertical"></lib-radio-group>
                    </div>
                </div>
            </ng-template>
            
        </div>
    </div>
</div>