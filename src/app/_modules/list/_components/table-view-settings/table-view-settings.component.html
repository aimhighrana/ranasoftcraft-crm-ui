<div class="root">
    <div class="f-row breadcrum-toolbar">
        <lib-button iconFontType="solid" icon="times" (afterClick)="close()"></lib-button>
        <div class="col-spacer"></div>
        <div class="f-col mdo-constrained-right">
            <div class="f-row breadcrum-head">
                <lib-text-line type="leading" i18n="@@configure_view">Configure view</lib-text-line>
                <span class="f-col-spacer-half"></span>
                <span class="f-spacer"></span>
                <lib-button type="major" (afterClick)="save()" i18n="@@save"> Save </lib-button>
            </div>
        </div>
    </div>

    <div class="f-row-spacer-half"></div>

    <div class="f-col sidesheetcontent-listing">

        <div class="f-col mdo-justify">
            <div class="f-col">
                <ng-template mat-tab-label>
                    Columns
                </ng-template>
                <div class="f-col">
                    <lib-input i18n-label="@@view_name" label="View name" [(ngModel)]="viewDetails.viewName"
                        [hint]="submitted && !viewDetails.viewName ? 'View name is required' : ''"
                        [hasError]="submitted && !viewDetails.viewName">
                    </lib-input>
                    <lib-search i18n-placeholder="@@search" placeholder="Search columns" (valueChange)="searchFld($event)"></lib-search>
                    <div class="row-spacer"></div>
                    <div class="check-list">
                        <div class="f-row colunm-box">
                            <div class="col"></div>
                            <div class="col col-x4"><strong i18n="@@Column"> Column </strong></div>
                            <span class="f-spacer"></span>
                            <div class="col"><strong i18n="@@Visible"> Visible </strong></div>
                            <span class="f-col-spacer-half"></span>
                        </div>
                        <div cdkDropList [cdkDropListData]="metadataFldLst" (cdkDropListDropped)="drop($event)"
                            #scrollableContainer>
                            <div *ngFor="let fld of metadataFldLst" id="{{ fld.fieldId }}" cdkDrag class="colunm-list">
                                <div class="f-row colunm-box">
                                    <div class="col">
                                        <lib-button cdkDragHandle type="plain" iconFontType="solid" icon="grip-lines"></lib-button>
                                    </div>

                                    <div class="col col-x4">
                                        <ng-template [ngIf]="suggestedFlds.indexOf(fld.fieldId) !==-1"
                                            [ngIfElse]="notSuggested">
                                            <span style="background-color: #FFFF00">{{ fld.fieldDescri ?
                                                fld.fieldDescri : (fld.fieldDesc ? fld.fieldDesc : 'Untitled')
                                                }} </span>
                                        </ng-template>

                                        <ng-template #notSuggested>
                                            <span>{{ fld.fieldDescri ? fld.fieldDescri : (fld.fieldDesc ?
                                                fld.fieldDesc : 'Untitled') }} </span>
                                        </ng-template>
                                    </div>

                                    <div class="f-spacer"></div>

                                    <div class="col">
                                        <lib-checkbox [checked]="isChecked(fld)" (valueChange)="selectionChange(fld)">
                                        </lib-checkbox>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>