<ng-container *ngIf="displayControl==='text' || displayControl==='number'">
    <ng-template [ngIf]="!range" [ngIfElse]="textRangeField">
        <lib-input [type]="displayControl" [value]="value" (valueChange)="inputChanged($event)" 
            [placeholder]="placeholder" class="lib-input">
        </lib-input>
    </ng-template>
    <ng-template #textRangeField>
        <lib-input [type]="displayControl" [value]="rangeValue?.start" (valueChange)="inputChanged($event, 'start')"
            [placeholder]="placeholder" class="lib-input">
        </lib-input>
        <span class="f-col-spacer-half"></span>
        <lib-input [type]="displayControl" [value]="rangeValue?.end" (valueChange)="inputChanged($event, 'end')"
            [placeholder]="placeholder" class="lib-input">
        </lib-input>
    </ng-template>
</ng-container>
<ng-container *ngIf="displayControl==='date'">
    <ng-template [ngIf]="!range" [ngIfElse]="dateRangeField">
        <lib-date-picker [selectedDate]="dateValue" (valueChange)="dateChanged($event)" class="lib-input"></lib-date-picker>
    </ng-template>
    <ng-template #dateRangeField>
        <lib-date-range-picker [selectedDate]="dateRangeValue" (valueChange)="dateChanged($event)" class="lib-input">
        </lib-date-range-picker>
    </ng-template>
</ng-container>
<ng-container *ngIf="displayControl==='datetime'">
    <ng-template [ngIf]="!range" [ngIfElse]="dateTimeRangeField">
        <lib-date-time-picker [selectedDate]="dateValue" (valueChange)="dateChanged($event)" class="lib-input"></lib-date-time-picker>
    </ng-template>
    <ng-template #dateTimeRangeField>
        <lib-date-time-range-picker [selectedDate]="dateRangeValue" (valueChange)="dateChanged($event)" class="lib-input">
        </lib-date-time-range-picker>
    </ng-template>

</ng-container>
<ng-container *ngIf="displayControl==='time'">
    <ng-template [ngIf]="!range" [ngIfElse]="timeRangeField">
        <lib-time-picker [selectedDate]="dateValue" (timeChange)="dateChanged($event)" class="lib-input"></lib-time-picker>
    </ng-template>
    <ng-template #timeRangeField>
        <lib-time-range-picker [selected]="selectedTimeRange" [enableTimeInput]="true"
            (valueChange)="timeRangeChanged($event)" class="lib-input"></lib-time-range-picker>
    </ng-template>
</ng-container>
<mat-form-field *ngIf="displayControl==='dropdown' || displayControl==='radio'" appearance="outline">
    <input matInput [value]="dropdownValue" (input)="dropdownChanged($event.target.value)"
        [matAutocomplete]="fieldsCtrl" [placeholder]="placeholder">
    <mat-autocomplete [displayWith]="dropdownTextByCode.bind(this)" class="mdo-autocomplete"
        #fieldsCtrl="matAutocomplete" (optionSelected)="selected($event)">
        <ng-container *ngFor="let fld of fieldList">
            <mat-option class="mdo-option" [value]="fld.CODE" [matTooltip]="fld.TEXT" matTooltipPosition="right">
                {{fld.TEXT}}
            </mat-option>
        </ng-container>
    </mat-autocomplete>
</mat-form-field>
<ng-container *ngIf="displayControl==='checkbox'">
    <lib-checkbox [checked]="value==='true'" (valueChange)="checkboxChanged($event)"></lib-checkbox>
</ng-container>