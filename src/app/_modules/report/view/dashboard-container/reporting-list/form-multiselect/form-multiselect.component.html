<div>
    <div class="f-col mdo-field" [id]="formFieldId" [matMenuTriggerFor]="datasearch"
        #trigger="matMenuTrigger">
        <div class="mdo-field-input" *ngIf="isTableFilter">
            <span [id]="'input-'+formFieldId"
                *ngIf="selectedMultiSelectData && selectedMultiSelectData.length"></span>
            <span [id]="'additional-'+formFieldId"
                *ngIf="selectedMultiSelectData && selectedMultiSelectData.length > 1"></span>
        </div>
        <div class="dropdown-search-wrapper" *ngIf="!isTableFilter">
            <lib-search [formControl]="control" placeholder="search..."></lib-search>
        </div>
    </div>
    <mat-menu #datasearch="matMenu">
        <lib-filter-dropdown prosClickStopPropagation>
            <div class="dropdown-search-wrapper" *ngIf="isTableFilter">
                <lib-search [formControl]="control" [placeholder]="placeholder"></lib-search>
            </div>
            <div class="dropdown-options-wrapper f-col">
                <div class="dropdown-options-inner-container">
                    <lib-filter-option *ngFor="let opt of optionList">
                        <lib-checkbox
                            [label]="getLabel(opt)"
                            [checked]="isChecked(opt.CODE)" [value]="opt.CODE" [id]="opt.CODE"
                            (valueChange)="selectionChangeHandler(opt.CODE,opt.TEXT)">
                        </lib-checkbox>
                    </lib-filter-option>
                </div>
                <div class="filter-button-wrapper">
                    <lib-button type="minor" (click)="trigger.closeMenu();applyFilter()"
                        i18n="@@apply">Apply</lib-button>
                </div>
            </div>
        </lib-filter-dropdown>
    </mat-menu>
</div>