<!-- OPEN IN EDIT MODE -->
<mat-list class="collaborators-list">
    <mat-list-item *ngIf="isEditMode">
        <div class="f-col">
            <div class="f-row">
                <ng-template [ngIf]="collaborator && collaborator.permissionType === 'USER'">
                    <mat-icon mat-list-icon matTooltip="User" class="icon-user">person</mat-icon>
                    <div class="f-col">
                        <div mat-line>{{ collaborator.userMdoModel ? collaborator.userMdoModel.fullName : 'Unknown' }}
                        </div>
                        <div mat-line>{{ collaborator.userMdoModel ? collaborator.userMdoModel.email : 'Unknown' }}
                        </div>
                    </div>
                </ng-template>

                <ng-template [ngIf]="collaborator && collaborator.permissionType === 'GROUP'">
                    <mat-icon mat-list-icon matTooltip="Group" class="icon-group">group</mat-icon>
                    <div class="f-col">
                        <div mat-line>{{ collaborator.groupId }}</div>
                        <div mat-line>
                            {{ collaborator.groupHeaderModel ? collaborator.groupHeaderModel.description : 'Undescribe' }}
                        </div>
                    </div>
                </ng-template>

                <ng-template [ngIf]="collaborator && collaborator.permissionType === 'ROLE'">
                    <mat-icon mat-list-icon matTooltip="Role" class="icon-role">how_to_reg</mat-icon>
                    <div class="f-col">
                        <div mat-line> {{ collaborator.roleId }}</div>
                        <div mat-line>{{ collaborator.rolesModel ? collaborator.rolesModel.roleDesc : 'Unknown' }}</div>
                    </div>
                </ng-template>
                <div class="f-spacer"></div>
                <button mat-button (click)="updateEmit()">
                    <mat-icon>save</mat-icon>
                </button>
                <lib-button (click)="updateEmit()">Save</lib-button>
            </div>
            <div class="f-row permissions" [formGroup]="permissionFrmGrp">
                <mat-slide-toggle color="primary" formControlName="isViewable">Can View</mat-slide-toggle>
                <mat-slide-toggle color="primary" formControlName="isEditable">Can Edit</mat-slide-toggle>
                <mat-slide-toggle color="primary" formControlName="isDeleteable">Can Delete</mat-slide-toggle>
            </div>
        </div>
    </mat-list-item>

    <!-- ON VIEW MODE -->
    <mat-list-item *ngIf="!isEditMode" (mouseover)="isEditDisplay = true" (mouseout)="isEditDisplay = false">
        <div class="f-col">
            <div class="f-row">
                <ng-template [ngIf]="collaborator && collaborator.permissionType === 'USER'">
                    <mat-icon mat-list-icon matTooltip="User" class="icon-user">person</mat-icon>
                    <div class="f-col">
                        <div mat-line>{{ collaborator.userMdoModel ? collaborator.userMdoModel.fullName : 'Unknown' }}
                        </div>
                        <div mat-line>{{ collaborator.userMdoModel ? collaborator.userMdoModel.email : 'Unknown' }}
                        </div>
                    </div>
                </ng-template>

                <ng-template [ngIf]="collaborator && collaborator.permissionType === 'GROUP'">
                    <mat-icon mat-list-icon matTooltip="Group" class="icon-group">group</mat-icon>
                    <div class="f-col">
                        <div mat-line>{{ collaborator.groupId }}</div>
                        <div mat-line>
                            {{ collaborator.groupHeaderModel ? collaborator.groupHeaderModel.description : 'Undescribe' }}
                        </div>
                    </div>
                </ng-template>

                <ng-template [ngIf]="collaborator && collaborator.permissionType === 'ROLE'">
                    <mat-icon mat-list-icon matTooltip="Role" class="icon-role">how_to_reg</mat-icon>
                    <div class="f-col">
                        <div mat-line>{{ collaborator.roleId }}</div>
                        <div mat-line>{{ collaborator.rolesModel ? collaborator.rolesModel.roleDesc : 'Unknown' }}</div>
                    </div>
                </ng-template>
                <div class="f-spacer"></div>
                <lib-button [style.display]="isEditDisplay ? 'block' : 'none'" (click)="isEditMode = true" type="plain" icon="pencil-alt"></lib-button>
                <div class="f-col-spacer-half"></div>
                <lib-button [style.display]="isEditDisplay ? 'block' : 'none'" (click)="deleteEmit()" icon="trash-alt"></lib-button>
            </div>
        </div>
    </mat-list-item>
</mat-list>