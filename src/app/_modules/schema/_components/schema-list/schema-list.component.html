<div class="root">
  <!-- <div class="crumbrow f-row">
    <pros-breadcrumb [crumbs]="breadcrumb"></pros-breadcrumb>
  </div> -->

  <div class="tiles-container">
    <div class="row-spacer"></div>
    <div class="f-row tile-header-row">
      <h2 class="display-2">Schema</h2>
      <span class="f-spacer"></span>
      <button mat-flat-button color="primary" routerLink="/home/schema/create-schema/new">Create new schema</button>
    </div>
    <mat-divider></mat-divider>

    <div *ngFor="let module of schemaListDetails" class="f-row flex-row-container">
      <div class="f-row">
        <h2 class="mat-headline-caps">{{module.moduleDesc}}</h2>
        <span class="f-spacer"></span>
        <button mat-button color="primary" (click)="uploadData(module)">Upload dataset</button>
      </div>
      <pros-schema-tile class="flex-col-1" *ngFor="let schema of module.schemaLists"
        (click) = "schemaDetails(module.moduleId, schema);"
      
        title="{{ schema.schemaDescription }}" 
        bottomLeftLabel="{{ schema.variantCount }} Variants"
        bottomRightLabel="Run"

        [info]=true
        [edit]="schema.collaboratorModels ? schema.collaboratorModels.isEditer: false"
        [delete]="schema.collaboratorModels ? schema.collaboratorModels.isAdmin: false"
        [state]= "schema.isInRunning ? 'inRunning' : 'cool'"
        [schemaId]= "schema.schemaId"
        [variantId] ="schema.variantId"
        [isVariant]=true

        totalValue="{{schema.totalValue ? schema.totalValue : 0}}"
        successValue="{{ schema.successValue ? schema.successValue :0 }}"
        errorValue="{{ schema.errorValue ? schema.errorValue : 0 }}"
        skippedValue="{{ schema.skippedValue ? schema.skippedValue : 0 }}"
        correctionValue="{{ schema.correctionValue ? schema.correctionValue: 0 }}"
        duplicateValue="{{ schema.duplicateValue ? schema.duplicateValue : 0 }}"
  
        totalUniqueValue="{{ schema.totalUniqueValue ? schema.totalUniqueValue :0 }}"
        successUniqueValue="{{ schema.successUniqueValue ? schema.successUniqueValue : 0 }}"
        errorUniqueValue="{{ schema.errorUniqueValue ? schema.errorUniqueValue : 0 }}"
        skippedUniqueValue="{{ schema.skippedUniqueValue ? schema.skippedUniqueValue : 0 }}"
  
        successTrendValue="{{ schema.successTrendValue ? schema.successTrendValue : 0 }}"
        errorTrendValue="{{ schema.errorTrendValue ? schema.errorTrendValue : 0 }}"
  
        timestamp="{{ schema.executionEndTime | date:'MMM d, y, h:mm:ss a' }}"
  
        (evtEdit)="edit(module.moduleId, schema);"
        (evtDelete)="delete(schema.schemaId)"
        (evtBottomLeft)="variants(module.moduleId, schema.schemaId);"
        (evtBottomRight)="run(schema.schemaId);">
      </pros-schema-tile>
      <!-- <pros-add-tile class="flex-col-1" text="Create a new schema" routerLink="/home/schema/create-schema/{{module.moduleId}}/new"></pros-add-tile> -->
  
    </div>
  </div>
</div>