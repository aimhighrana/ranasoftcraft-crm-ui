<mat-card class="root mat-elevation-z6" [class.pulse_opacity_step_10_repeat]="pulse">
  <mat-toolbar class="header">
    <mat-toolbar-row>
      <h3 class="mat-h3" [matTooltip]="title">{{ title }}</h3>
      <span class="f-spacer"></span>
      <button mat-icon-button><mat-icon *ngIf="edit" prosClickStopPropagation matTooltip="Edit" (click)="onEdit();">edit</mat-icon></button>
      <button mat-icon-button><mat-icon *ngIf="delete" prosClickStopPropagation matTooltip="Delete" (click)="onDelete();">delete</mat-icon></button>
      <button mat-icon-button><mat-icon *ngIf="info" prosClickStopPropagation matTooltip="Information comming soon ..." (click)="onInfo();">info</mat-icon></button>
    </mat-toolbar-row>
  </mat-toolbar>
  <mat-divider></mat-divider>
  <mat-card-content class="f-col">
    <div class="f-row">
      <ng-template [ngIf]="totalValue && showingErrors">
        <h2 class="perc err">{{ percentageErrorStr() }}</h2>
        <h2 class="perc-symbol err">%</h2>
        <span class="f-col-spacer-half"></span>
        <span class="mat-caption row1text">Error in last run</span>
      </ng-template>
      <ng-template [ngIf]="totalValue && !showingErrors">
        <h2 class="perc scs">{{ percentageSuccessStr() }}</h2>
        <h2 class="perc-symbol scs">%</h2>
        <span class="f-col-spacer-half"></span>
        <span class="mat-caption row1text">Success in last run</span>
      </ng-template>
      <ng-template [ngIf]="!totalValue">
        <mat-icon class="na">report</mat-icon>
        <span class="f-col-spacer-half"></span>
        <span class="mat-caption row1text">no results to show</span>
      </ng-template>
      <span class="f-spacer"></span>
      <button *ngIf="totalValue" mat-icon-button prosClickStopPropagation matTooltip="Toggle Error/Success" (click)="toggle();"><mat-icon>shuffle</mat-icon></button>
    </div>
    <div class="row-spacer"></div>
    <div class="f-row">
      <ng-template [ngIf]="showingErrors">
        <mat-icon *ngIf="!errorTrendValue || errorTrendValue === 0" class="err">trending_flat</mat-icon>
        <mat-icon *ngIf="errorTrendValue && errorTrendValue > 0" class="err">trending_up</mat-icon>
        <mat-icon *ngIf="errorTrendValue && errorTrendValue < 0" class="err">trending_down</mat-icon>
      </ng-template>
      <ng-template [ngIf]="!showingErrors">
        <mat-icon *ngIf="!successTrendValue || successTrendValue === 0" class="scs">trending_flat</mat-icon>
        <mat-icon *ngIf="successTrendValue && successTrendValue > 0" class="scs">trending_up</mat-icon>
        <mat-icon *ngIf="successTrendValue && successTrendValue < 0" class="scs">trending_down</mat-icon>
      </ng-template>
      <div class="f-col-spacer-half"></div>
      <ng-template [ngIf]="showingErrors">
        <h2>{{ errorTrendValue ? errorTrendValue > 0 ? '+' + errorTrendValue : errorTrendValue : 0 }}</h2>
      </ng-template>
      <ng-template [ngIf]="!showingErrors">
        <h2>{{ successTrendValue ? successTrendValue > 0 ? '+' + successTrendValue : successTrendValue : 0 }}</h2>
      </ng-template>
      <div class="f-col-spacer-half"></div>
      <span class="mat-caption week">(This Week)</span>
      <span class="f-spacer"></span>
      <mat-slide-toggle *ngIf="totalUniqueValue" color="primary" prosClickStopPropagation matTooltip="Show unique record counts" (change)="toggleUnique($event);"></mat-slide-toggle>
    </div>
    <div class="row-spacer"></div>
    <mat-chip-list class="f-row">
      <mat-chip class="total">Total - {{ showUnique ? totalUniqueValue : totalValue }}</mat-chip>
      <mat-chip class="error">Error - {{ showUnique ? errorUniqueValue : errorValue }}</mat-chip>
      <mat-chip class="success">Success - {{ showUnique ? successUniqueValue : successValue }}</mat-chip>
      <mat-chip *ngIf="skippedValue" class="skipped">Skipped - {{ showUnique ? skippedUniqueValue : skippedValue }}</mat-chip>
      <mat-chip *ngIf="duplicateValue" class="duplicate">Duplicate - {{ duplicateValue }}</mat-chip>
      <mat-chip *ngIf="correctionValue" class="correction">Correction - {{ correctionValue }}</mat-chip>
    </mat-chip-list>
    <div class="row-spacer"></div>
    <div *ngIf="timestamp" class="mat-caption timestamp">
      Last run at: {{ timestamp }}
    </div>
  </mat-card-content>
  <ng-template [ngIf]="bottomLeftLabel || bottomRightLabel">
    <mat-divider class="btm-divider"></mat-divider>
    <mat-card-footer>
      <button *ngIf="bottomLeftLabel" prosClickStopPropagation mat-button color="primary" (click)="onBottomLeft();">{{ bottomLeftLabel }}</button>
      <span class="f-spacer"></span>
      <button *ngIf="bottomRightLabel" prosClickStopPropagation mat-button color="primary" (click)="onBottomRight();">{{ bottomRightLabel }}</button>
    </mat-card-footer>
  </ng-template>
</mat-card>