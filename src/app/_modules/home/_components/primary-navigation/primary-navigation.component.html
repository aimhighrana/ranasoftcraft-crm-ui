<div class="f-row nav-root">
    <div class="f-col primarynav-logo">
        <pros-svg-icon size="70" icon="MDO_LOGO" class="primary-nav"></pros-svg-icon>
    </div>
    <!-- <div class="f-row">
        <button mat-icon-button (click)="toggleSideBar()">
            <mat-icon fontSet="mdo-icons">menu</mat-icon>
        </button>
    </div> -->
    
    <div class="f-row">
        <lib-tab-group *ngIf="canDisplayNavigation" class="lib-tab-group primary-navigation" (selectedIndexChange)="onTabChanged($event)"
        [selectedIndex]="selectedTabIndex">
            <lib-tab i18n-label="@@home" label="Home">
            </lib-tab>
            <lib-tab i18n-label="@@data" label="Data">
            </lib-tab>
            <lib-tab i18n-label="@@schema" label="Schema">
            </lib-tab>
            <lib-tab i18n-label="@@reports" label="Reports">
            </lib-tab>
        </lib-tab-group>
    </div>

    <div class="f-spacer"></div>
    <lib-button [matMenuTriggerFor]="navigation" rounded="true" class="create-new lib-button primary-navigation">
        <mat-icon fontSet="mdo-icons-light">plus</mat-icon>
    </lib-button>
    <div class="f-row global-menu">
        <div>
            <mat-menu #navigation="matMenu" xPosition="before" class="navigation-menu">
                <pros-navigation-dropdown (selectedModule)="selectedModule($event)">
                </pros-navigation-dropdown>
            </mat-menu>
        </div>

        <div class="col-spacer"></div>
        <div class="f-col-spacer-half"></div>

        <lib-search  placeholder="Search anything" #schemaSearchInput value="" class="lib-search"></lib-search>

        <div class="col-spacer"></div>
        <div class="f-col-spacer-half"></div>
        <div class="admin-badge cursor"  (click)="openSystemTray()">
            <mat-icon fontSet="mdo-icons-solid"  libBadge="{{ notificationsCount }}"
            matBadgeOverlap="true"
            matBadgeColor="primary"
            matBadgeSize="small"
            matBadgePosition="after"
            >bell</mat-icon>
        </div>

        <div class="col-spacer"></div>
        <div class="f-col-spacer-half"></div>
        <lib-avatar size="small" initials="{{ userDetails.firstName ? userDetails.firstName.substring(0,1).toUpperCase() : ''  }}{{ userDetails.lastName ? userDetails.lastName.substring(0,1).toUpperCase() : ''  }}" [matMenuTriggerFor]="profile_navigation"></lib-avatar>

        <mat-menu #profile_navigation="matMenu" xPosition="before" class="navigation-menu">
            <button mat-menu-item (click)="signOut()" i18n="@@sign_out">Sign out</button>
        </mat-menu>
    </div>    
</div>

<mat-sidenav-content id="primaryContent" class="body-sidecontent">
    <mat-sidenav-container autosize>
        <mat-sidenav mode="side" opened [disableClose]="true" id="secondarySidenav" #secondarySidenav>
            <!-- secondary side nav -->
            <pros-secondary-navbar [activatedPrimaryNav]="isNavSelected" (toggleEmitter)="toggleSecondarySideBar()"></pros-secondary-navbar>
        </mat-sidenav>
      <mat-sidenav-content id="secondaryContent" #secondaryContent>
        <router-outlet></router-outlet>
      </mat-sidenav-content>
    </mat-sidenav-container>
  </mat-sidenav-content>